# 操作系统相关

## 并发于并行之间的区别

* 并发（Concurrent），在操作系统中，是指一个时间段中有几个程序都处于已启动运行到运行完毕之间，且这几个程序都是在同一个处理机上运行。
* 并行（Parallel），当系统有一个以上CPU时，当一个CPU执行一个进程时，另一个CPU可以执行另一个进程，两个进程互不抢占CPU资源，可以同时进行，这种方式我们称之为并行(Parallel)。

## 理解JavaScript线程

浏览器内核允许多个线程异步执行，这些线程在内核控制下相互配合以保持同步，比如一个浏览器至少有3个以上的线程，有：javascript引擎线程，界面渲染线程，浏览器事件触发线程，除这些以外，也有一些执行完的线程，比如http请求线程，这些异步线程都会产生不同的异步的事件。

### js线程

Javascript引擎是单线程运行的，浏览器无论在什么时候都只且只有一个线程在运行的。

### 界面渲染线程

该线程负责渲染浏览器HTML界面元素，当界面需要重绘或由于某种操作引发回流(reflow)，该线程就会执行，该线程与javascript引擎线程是互斥的，因为javascript引擎运行脚本期间，浏览器渲染线程都是出于挂起状态的，比如我们常见的是在页面head标签内不建议把JS放在头部的原因，希望要把JS放在尾部或者使用异步加载等操作。因此在脚本中执行对界面进行更新操作，如动态添加节点或者删除节点等更新会把这些事件放在队列当中，等javascript引擎空闲时才有机会渲染出来。

### 浏览器事件触发线程

用户单击一个已附加有单击事件处理器dom元素时，会有一个单击事件排入队列，但是该单击事件处理器要等到当前所有正在运行的代码均已结束才会执行。

### 定时触发线程

 这里谈到的定时计数器不是由javascript引擎计数的，因为javascript引擎是单线程的，如果处于堵塞状态就计不了时的，它必须依赖外部计时并触发定时，所以队列中的定时事件也是异步事件。