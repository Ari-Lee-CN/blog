# 对于类实例化的理解

先列一个式子

~~~javascript
class Animal()

class Person{
    constructor(){
        console.log('person ctor');
    }
}

class Vegetable{
    constrcutor(){
        this.color='orange';
    }
}

let a = new Animals();
let p = new Person();
let v = new Vegetable();
console.log(v.color);

~~~

这里用new实例化类的构造函数经历了如下几步

1，在内存中创建了一个对象

2，在这个新对象内部的[[prototype]]指针被赋值为构造函数的prototype属性

3，构造函数内部的this被赋值为这个新对象（this指向新对象）

4，执行构造函数内部的代码（给新对象增加新属性）

5，如果构造函数返回非空对象，则，返回该对象；否则，则返回刚创建的对象。



constructor（）函数在类内部创建了一个构造函数，这就是继承中的构造函数



实例化首先创建一个对象，这个对象就是实例，

其次这个实例的[[prototype]]属性被指向构造函数的原型对象，继承构造函数的方法

然后改变this指向，执行构造函数内部代码，为新对象增加属性。



其实是一个组合继承的思路



值得注意的事，执行构造函数内部的代码是为了给新对象增加属性，如果最后执行结果不是为实例增加属性，将不再是该类











